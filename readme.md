<h1 align="center">Avito Parser Bot</h1>

<h2 align="center">
    <image src="image/Profile.png" alt="Скрин профиля">
</h2>
<h2 align="center"><a  href="https://web.telegram.org/k/#@AvitoNedvizhemostBot">Попробовать</a></h2>


## Описание

Бот позволяет получать данные по квартирам, за определённую даты а также производить сортировку этих данных для удобства восприятия (Проект полностью реализован на Python)

## Как пользоваться 

Для использования бота надо отправить ему команду /start

<h6 align="center">
    <image src="image/Start.png" alt="Скрин /start">
</h6>

Далее у пользователя появляется меню в котором есть 4 функциональные кнопки:
<h6 align="center">
    <image src="image/Menu.png" alt="Скрин меню">
</h6>

#### "Помощь"

При нажатии этой кнопки перед пользователем пояляется меню с возможностями бота
<h6 align="center">
    <image src="image/Help.png" alt="Скрин 'помощь'">
</h6>


#### "Сегодняшний файл"

После нажатия на данную кнопку перед пользователем появляется меню выбора города, которое состояит из 4 inline кнопок

<h6 align="center">
    <image src="image/city.png" alt="Скрин Выбор города">
</h6>

Далее после выбора города пользователь получает файл за сегодняшний день 

<h6 align="center">
    <image src="image/todayfile.png" alt="Скрин Выбор города">
</h6>

###### Вид файла

Ячейки со значением "None" означают что объявление было не до конца заполнено и на сайте нет данныхпо этим пунктам объявления

<h6 align="center">
    <image src="image/todayxlsx.png" alt="Скрин сегодняшнего файла">
</h6>

#### "Отсортированный файл"

После нажатия на данную кнопку пользователю необходимо ввести даты(за которую он хочет получить файл, для примера я запрошу файл за 2023.05.23)

<h6 align="center">
    <image src="image/Datefile.png" alt="Скрин сегодняшнего файла">
</h6>

После ввода даты пользователю также необходимо выбрать город, после чего он получит отсортированный файл
<h6 align="center">
    <image src="image/datecity.png" alt="Скрин сегодняшнего файла">
</h6>


###### Вид файла

В данном файле столбцы отсортированны в следующем порядке:
1) Количество комнат
2) Адресу
3) Количество этажей
4) Стоимость квадратного метра
Также посчитаны средние цены всех типов квартир и выделены наиболее квартиры со стоимостью на 30% ниже или наоборот на 30% выше


Также происходит удаление дублируюшихся объявлений и объявлений где у какого-либо из параметров стоит значение None
<h6 align="center">
    <image src="image/sortfile.png" alt="Скрин отсортированного файла">
</h6>




#### "сортировка по критериям"

Эта кнопка предоставляет самую простую сортировку, после нажатия на нее у пользователя есть выбор 1 из 3 видов сортировки

<h6 align="center">
    <image src="image/sortsettings.png" alt="Скрин отсортированного файла по критериям">
</h6>


После выбора параметра сортировки вы получаете 4 файла за сегодняшний день(за все 4 города) отсортированные по выбранному критерию (в примере это критерий 1 "По цене")


<h6 align="center">
    <image src="image/resultsettings.png" alt="Скрин сообщений по критериям">
</h6>


###### Вид файла

В данном файле также удалены объявления с пустыми значениями


<h6 align="center">
    <image src="image/settingsfile.png" alt="Скрин отсортированного файла">
</h6>







# Ограничения

На данном этапе доступно только 4 города (Зеленодольск, Москва, Новосибирск, Казань), также в работе бота могут происходить различные сбои так как все данные собираются с помощью bs4 по HTML тегам которые на регулярной основе меняются

